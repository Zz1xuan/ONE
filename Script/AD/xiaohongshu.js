/***********************************************
> 应用名称：墨鱼自用小红书去广告脚本
> 脚本作者：@ddgksf2013
> 微信账号：墨鱼手记
> 更新时间：2023-06-03
> 通知频道：https://t.me/ddgksf2021
> 贡献投稿：https://t.me/ddgksf2013_bot
> 问题反馈：ddgksf2013@163.com
> 特别提醒：如需转载请注明出处，谢谢合作！
***********************************************/




const version = 'V1.0.8';

let body=$response.body;if(body){switch(!0){case/api\/sns\/v\d\/note\/redtube/.test($request.url):try{let e=JSON.parse(body);for(let t of e.data.items)t.related_goods_num&&(t.related_goods_num=0),t.has_related_goods&&(t.has_related_goods=!1),t.media_save_config&&(t.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),t.collected=!0,t.share_info&&(t.share_info.function_entries=[{type:"video_download"},{type:"generate_image"},{type:"copy_link"},{type:"native_voice"},{type:"video_speed"},{type:"dislike"},{type:"report"},{type:"video_feedback"}]);body=JSON.stringify(e)}catch(a){console.log("redtube: "+a)}break;case/api\/sns\/v\d\/note\/videofeed/.test($request.url):try{let s=JSON.parse(body);for(let o of s.data)o.related_goods_num&&(o.related_goods_num=0),o.has_related_goods&&(o.has_related_goods=!1),o.media_save_config&&(o.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0}),o.collected=!0,o.share_info&&(o.share_info.function_entries=[{type:"video_download"},{type:"generate_image"},{type:"copy_link"},{type:"native_voice"},{type:"video_speed"},{type:"dislike"},{type:"report"},{type:"video_feedback"}]);body=JSON.stringify(s)}catch(d){console.log("videofeed: "+d)}break;case/api\/sns\/v\d\/note\/feed/.test($request.url):try{let i=JSON.parse(body);for(let r of i.data)if(r.related_goods_num&&(r.related_goods_num=0),r.has_related_goods&&(r.has_related_goods=!1),r.note_list)for(let l of r.note_list)l.media_save_config={disable_save:!1,disable_watermark:!0,disable_weibo_cover:!0};body=JSON.stringify(i)}catch(c){console.log("feed: "+c)}break;case/api\/sns\/v\d\/homefeed\/categories\?/.test($request.url):try{let n=JSON.parse(body);n.data.categories=n.data.categories.filter(e=>!("homefeed.shop"==e.oid||"homefeed.live"==e.oid)),body=JSON.stringify(n)}catch(y){console.log("categories: "+y)}break;case/api\/sns\/v\d\/search\/hint/.test($request.url):try{let g=JSON.parse(body);g.data?.hint_words&&(g.data.hint_words=[{title:"搜索笔记",type:"firstEnterOther#itemCfRecWord#搜索笔记#1",search_word:"搜索笔记"}]),body=JSON.stringify(g)}catch(f){console.log("hint: "+f)}break;case/api\/sns\/v\d\/search\/hot_list/.test($request.url):try{let b=JSON.parse(body);b.data={scene:"",title:"",items:[],host:"",background_color:{},word_request_id:""},body=JSON.stringify(b)}catch(p){console.log("hot_list: "+p)}break;case/api\/sns\/v\d\/search\/trending/.test($request.url):try{let h=JSON.parse(body);h.data={title:"",queries:[],type:"",word_request_id:""},body=JSON.stringify(h)}catch(v){console.log("trending: "+v)}break;case/api\/sns\/v\d\/system_service\/splash_config/.test($request.url):try{let m=JSON.parse(body);m.data.ads_groups.forEach(e=>{e.start_time="2208963661",e.end_time="2209050061",e.ads&&e.ads.forEach(e=>{e.start_time="2208963661",e.end_time="2209050061"})}),body=JSON.stringify(m)}catch(u){console.log("splash_config: "+u)}break;case/api\/sns\/v\d\/homefeed\?/.test($request.url):try{let $=JSON.parse(body);$.data=$.data.filter(e=>!e.is_ads),body=JSON.stringify($)}catch(k){console.log("homefeed: "+k)}break;case/api\/sns\/v\d\/system_service\/config\?/.test($request.url):try{let w=JSON.parse(body),_=["store","splash","loading_img","app_theme","cmt_words","highlight_tab"];for(let q of _)w.data?.[q]&&delete w.data[q];body=JSON.stringify(w)}catch(E){console.log("system_service: "+E)}break;default:$done({})}$done({body})}else $done({});
