# 基于[@Coldvvater](https://github.com/Coldvvater/Mononoke/blob/master/Surfboard/Config/Surfboard-Evolve.conf)修改
# Author:https://github.com/Repcz
# TG:https://t.me/QVQ_Channel
# 
# 以 ';' 或 '#' 或 '//' 开头的配置文件行为注释行
#
# 最后更新时间: 2023/6/25
#
# 仅对分流进行修改，其他遵循原作者
# ================

[General]
# > 日志等级
loglevel = info

# > DNS服务器
dns-server = 223.5.5.5,119.29.29.29

# > 加密的DNS服务器
doh-server = https://dns.alidns.com/dns-query,https://doh.pub/dns-query

# > 跳过代理
skip-proxy = localhost, *.local, captive.apple.com, e.crashlytics.com, sequoia.apple.com, seed-sequoia.siri.apple.com, www.baidu.com, passenger.t3go.cn, yunbusiness.ccb.com, wxh.wo.cn, gate.lagou.com, www.abchina.com.cn, login-service.mobile-bank.psbc.com, mobile-bank.psbc.com, app.yinxiang.com, injections.adguard.org, local.adguard.org, cable.auth.com, *.id.ui.direct, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.1/32, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16, 192.168.122.1/32, 193.168.0.1/32, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32, ::1/128, fc00::/7, fd00::/8, fe80::/10, ff00::/8, 2001::/32, 2001:db8::/32, 2002::/16, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1

# > 代理延迟测试
proxy-test-url = http://www.gstatic.com/generate_204

# > 网络延迟测试
internet-test-url = http://www.aliyun.com

# > 连通性测试超时
test-timeout = 5

# > 返回真实IP
always-real-ip = *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, global.turn.twilio.com, global.stun.twilio.com, localhost.*.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, proxy.golang.org, *.mcdn.bilivideo.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, opencloud.wostore.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*

# > HTTP监听地址
http-listen = 0.0.0.0:1234

# > socks5监听地址
socks5-listen = 127.0.0.1:1235

# > UDP IP 防泄漏
# 如果没有代理服务器支持 UDP 转发，可修改为「direct」或注释下条，但需注意同一目标主机名 TCP 请求与 UDP 请求的源地址不同所造成的隐私及安全风险
udp-policy-not-supported-behaviour = REJECT

[Host]
# > IPv6
ip6-localhost = ::1 # IPv6 Localhost
ip6-loopback = ::1 # IPv6 Loopback
ip6-localnet = fe00::0 # IPv6 Link-Local
ip6-mcastprefix = ff00::0 # IPv6 Multicast
ip6-allnodes = ff02::1 # IPv6 All Nodes
ip6-allrouters = ff02::2 # IPv6 All Routers
ip6-allhosts = ff02::3 # IPv6 All Hosts
# > Firebase Cloud Messaging
talk.google.com = 108.177.125.188 
mtalk.google.com = 108.177.125.188 
alt1-mtalk.google.com = 3.3.3.3 
alt2-mtalk.google.com = 3.3.3.3 
alt3-mtalk.google.com = 74.125.200.188 
alt4-mtalk.google.com = 74.125.200.188 
alt5-mtalk.google.com = 3.3.3.3 
alt6-mtalk.google.com = 3.3.3.3 
alt7-mtalk.google.com = 74.125.200.188 
alt8-mtalk.google.com = 3.3.3.3 

[Proxy]
# > 配置模板见：https://manual.getsurfboard.com/config-template

[Proxy Group]

# > 外部节点(在此替换订阅链接&机场名称)
机场名称 = select, policy-path=http://your-service-provider, interval=300, update-interval=86400


# > 代理策略分流

🌏 国外网站 = select,🇭🇰 香港节点,🇨🇳 台湾节点,🇸🇬 狮城节点, 🇯🇵 日本节点,🇺🇲 美国节点,🚀 手动选择,DIRECT, no-alert=0, hidden=0

📹 国际媒体 = select,🇭🇰 香港节点,🇨🇳 台湾节点,🇸🇬 狮城节点, 🇯🇵 日本节点,🇺🇲 美国节点,🚀 手动选择,DIRECT, no-alert=0, hidden=0

🧩 微软服务 = select,🇭🇰 香港节点,🇨🇳 台湾节点,🇸🇬 狮城节点, 🇯🇵 日本节点,🇺🇲 美国节点,🚀 手动选择,DIRECT, no-alert=0, hidden=0

🌌 谷歌服务 = select,🇭🇰 香港节点,🇨🇳 台湾节点,🇸🇬 狮城节点, 🇯🇵 日本节点,🇺🇲 美国节点,🚀 手动选择,DIRECT, no-alert=0, hidden=0

🤖 OpenAI = select,🇺🇲 美国节点,🇭🇰 香港节点,🇨🇳 台湾节点,🇸🇬 狮城节点, 🇯🇵 日本节点,🚀 手动选择,DIRECT, no-alert=0, hidden=0

📺 哔哩哔哩 = select,DIRECT,🇭🇰 香港节点,🇨🇳 台湾节点,🚀 手动选择, no-alert=0, hidden=0

🌏 国内直连 = select,DIRECT,🚀 手动选择, no-alert=0, hidden=0

🐟 漏网之鱼 = select,DIRECT,🇭🇰 香港节点,🇨🇳 台湾节点,🇸🇬 狮城节点, 🇯🇵 日本节点,🇺🇲 美国节点,🚀 手动选择, no-alert=0, hidden=0

# > 节点地区分流

🇭🇰 香港节点 = url-test, policy-regex-filter=^(?=.*((?i)🇭🇰|香港|(\b(HK|Hong)\b)))(?!.*((?i)回国|校园|游戏|(\b(GAME)\b))).*$, interval=600,update-interval=86400, no-alert=0, hidden=0, include-all-proxies=1

🇺🇲 美国节点 = url-test, policy-regex-filter=^(?=.*((?i)🇺🇸|美国|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|(\b(US|United States)\b)))(?!.*((?i)回国|校园|游戏|(\b(GAME)\b))).*$, interval=600,update-interval=86400, no-alert=0, hidden=0, include-all-proxies=1

🇸🇬 狮城节点 = url-test, policy-regex-filter=^(?=.*((?i)🇸🇬|新加坡|狮|(\b(SG|Singapore)\b)))(?!.*((?i)回国|校园|游戏|(\b(GAME)\b))).*$, interval=600,update-interval=86400, no-alert=0, hidden=0, include-all-proxies=1

🇨🇳 台湾节点 = url-test, policy-regex-filter=^(?=.*((?i)🇹🇼|台湾|台|(\b(TW|Tai|Taiwan)\b)))(?!.*((?i)回国|校园|游戏|(\b(GAME)\b))).*$, interval=600,update-interval=86400, no-alert=0, hidden=0, include-all-proxies=1

🇯🇵 日本节点 = url-test, policy-regex-filter=^(?=.*((?i)🇯🇵|日本|川日|东京|大阪|泉日|埼玉|(\b(JP|Japan)\b)))(?!.*((?i)回国|校园|游戏|(\b(GAME)\b))).*$, interval=600,update-interval=86400, no-alert=0, hidden=0, include-all-proxies=1

🚀 手动选择 = select, interval=300, update-interval=86400, include-all-proxies=1

[Rule]
# > 远程规则集
# > 规则修正
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/Rule/Unbreak-d.list,DIRECT,update-interval=86400
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/DIRECT.list,DIRECT,update-interval=86400

# > 代理修正
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/PROXY.list,🌏 国外网站,update-interval=86400

# > 广告拦截
RULE-SET,hhttps://ghproxy.com/ttps://raw.githubusercontent.com/OocMe/ONE/main/Loon/rule/reject.list,REJECT,update-interval=86400

# > HTTPDNS.Block
RULE-SET,https://ghproxy.com/https://github.com/VirgilClyne/GetSomeFries/raw/main/ruleset/HTTPDNS.Block.list,REJECT,update-interval=86400

# > 哔哩哔哩
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/Rule/Bilibili.list,📺 哔哩哔哩,update-interval=86400

# > OpenAI
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/Rule/ChatGPT.list,🤖 OpenAI,update-interval=86400

# > 国际流媒体
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/Rule/Streaming.list,📹 国际媒体,update-interval=86400

# > 微软分流
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/Rule/Microsoft.list,🧩 微软服务,update-interval=86400
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/Rule/OneDrive.list,🧩 微软服务,update-interval=86400

# > 谷歌分流
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/Rule/Google.list,🌌 谷歌服务,update-interval=86400

# > 国外网站分流
RULE-SET,https://ghproxy.com/https://raw.githubusercontent.com/OocMe/ONE/main/Rule/Global.list,🌏 国外网站,update-interval=86400

# > 国内网站分流
RULE-SET,https://cdn.jsdelivr.net/gh/soffchen/GeoIP2-CN@release/surge-ruleset.list,🌏 国内直连,update-interval=86400

# > 本地规则分流
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
IP-CIDR,100.64.0.0/10,DIRECT
IP-CIDR,224.0.0.0/4,DIRECT
IP-CIDR6,fe80::/10,DIRECT
IP-CIDR,119.28.28.28/32,DIRECT
IP-CIDR,182.254.116.0/24,DIRECT
GEOIP,CN,DIRECT,no-resolve
FINAL,🐟 漏网之鱼
