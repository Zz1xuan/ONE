/**************************************
@Name：冷酸灵 签到 积分兑换牙膏
@Author：Sliverkiss
@Date：2023-09-27 18:20:11

使用方法：抓取scrm.dencare.com.cn域名下接口的token填写到lsl_data，多账号用 @ 分隔

脚本兼容：Surge、QuantumultX、Loon、Shadowrocket、Node.js
只测试过loon和青龙，其它环境请自行尝试】

====================================
⚠️【免责声明】
------------------------------------------
1、此脚本仅用于学习研究，不保证其合法性、准确性、有效性，请根据情况自行判断，本人对此不承担任何保证责任。
2、由于此脚本仅用于学习研究，您必须在下载后 24 小时内将所有内容从您的计算机或手机或任何存储设备中完全删除，若违反规定引起任何事件本人对此均不负责。
3、请勿将此脚本用于任何商业或非法目的，若违反规定请自行对此负责。
4、此脚本涉及应用与本人无关，本人对因此引起的任何隐私泄漏或其他后果不承担任何责任。
5、本人对任何脚本引发的问题概不负责，包括但不限于由脚本错误引起的任何损失和损害。
6、如果任何单位或个人认为此脚本可能涉嫌侵犯其权利，应及时通知并提供身份证明，所有权证明，我们将在收到认证文件确认后删除此脚本。
7、所有直接或间接使用、查看此脚本的人均应该仔细阅读此声明。本人保留随时更改或补充此声明的权利。一旦您使用或复制了此脚本，即视为您已接受此免责声明。
******************************************/

// env.js 全局
const _0x241b81=_0x10d2;(function(_0x2dd2f6,_0x881bd1){const _0xbc9c07=_0x10d2,_0x369e75=_0x2dd2f6();while(!![]){try{const _0xd942df=-parseInt(_0xbc9c07(0x132))/0x1+parseInt(_0xbc9c07(0x110))/0x2+parseInt(_0xbc9c07(0x106))/0x3*(parseInt(_0xbc9c07(0x8e))/0x4)+parseInt(_0xbc9c07(0x13b))/0x5+-parseInt(_0xbc9c07(0x9e))/0x6*(parseInt(_0xbc9c07(0xcb))/0x7)+-parseInt(_0xbc9c07(0xf9))/0x8+parseInt(_0xbc9c07(0x7b))/0x9*(parseInt(_0xbc9c07(0xb7))/0xa);if(_0xd942df===_0x881bd1)break;else _0x369e75['push'](_0x369e75['shift']());}catch(_0x1d9c9e){_0x369e75['push'](_0x369e75['shift']());}}}(_0x37cb,0xee916));const _0x589c57=(function(){let _0x182756=!![];return function(_0x3cc5dd,_0x1c15e9){const _0x5162de=_0x182756?function(){const _0x4542fd=_0x10d2;if(_0x1c15e9){const _0x2b71e3=_0x1c15e9[_0x4542fd(0xf3)](_0x3cc5dd,arguments);return _0x1c15e9=null,_0x2b71e3;}}:function(){};return _0x182756=![],_0x5162de;};}()),_0xc71c92=_0x589c57(this,function(){const _0x290358=_0x10d2;return _0xc71c92[_0x290358(0x91)]()[_0x290358(0x101)](_0x290358(0x10c))[_0x290358(0x91)]()[_0x290358(0xac)](_0xc71c92)[_0x290358(0x101)](_0x290358(0x10c));});_0xc71c92();const $=new Env(_0x241b81(0x140)),ckName='lsl_data',Notify=0x1,notify=$[_0x241b81(0x12f)]()?require(_0x241b81(0xc4)):'';let envSplitor=['@'],userCookie=($['isNode']()?process[_0x241b81(0x115)][ckName]:$[_0x241b81(0xd3)](ckName))||'',userList=[],userIdx=0x0,userCount=0x0;$[_0x241b81(0xaf)]=[],$[_0x241b81(0x10a)]=($[_0x241b81(0x12f)]()?process[_0x241b81(0x115)][_0x241b81(0x93)]:$[_0x241b81(0xd3)]('bark_key'))||'';async function main(){const _0x573b33=_0x241b81;console[_0x573b33(0xb2)]('\x0a==================\x20任务\x20==================\x0a');let _0x5e7603=[];for(let _0x59c565 of userList){_0x59c565[_0x573b33(0xd6)]?(console[_0x573b33(0xb2)](_0x573b33(0xbc)+_0x59c565[_0x573b33(0x8b)]()+'ms'),_0x5e7603[_0x573b33(0x10d)](await _0x59c565[_0x573b33(0xd8)]()),await $['wait'](_0x59c565[_0x573b33(0x8b)]())):$[_0x573b33(0xaf)][_0x573b33(0x10d)]('❌账号'+_0x59c565[_0x573b33(0xe7)]+_0x573b33(0xe5));}await Promise[_0x573b33(0xb3)](_0x5e7603),console[_0x573b33(0xb2)]('\x0a=================\x20用户信息\x20=================\x0a'),_0x5e7603=[];for(let _0x4c2ef7 of userList){_0x4c2ef7[_0x573b33(0xd6)]?(console['log']('随机延迟'+_0x4c2ef7['getRandomTime']()+'ms'),_0x5e7603['push'](await _0x4c2ef7['getLoginUser']()),await $[_0x573b33(0x13c)](_0x4c2ef7[_0x573b33(0x8b)]())):$['notifyMsg'][_0x573b33(0x10d)](_0x573b33(0x105)+_0x4c2ef7['index']+_0x573b33(0xe5));}await Promise['all'](_0x5e7603);}class UserInfo{constructor(_0x16a781){const _0x28c471=_0x241b81;this[_0x28c471(0xe7)]=++userIdx,this[_0x28c471(0xcf)]=_0x16a781,this[_0x28c471(0xd6)]=!![],this[_0x28c471(0xfa)]={'User-Agent':_0x28c471(0x92),'Content-Type':'application/json;charset=UTF-8'};}[_0x241b81(0x8b)](){return randomInt(0x3e8,0xbb8);}async['signin'](){const _0x18175f=_0x241b81;try{const _0x3b2e48={'url':'https://scrm.dencare.com.cn/saas/action/apimanager/execmulti?token='+this[_0x18175f(0xcf)]+_0x18175f(0x130),'headers':this[_0x18175f(0xfa)]};let _0x11d77c=await httpRequest(_0x3b2e48);console[_0x18175f(0xb2)](_0x11d77c['success']),_0x11d77c?.[_0x18175f(0x97)]?.[_0x18175f(0xfe)]==!![]?(console[_0x18175f(0xb2)]('✅签到成功，获得'+_0x11d77c?.['customer_signin']?.[_0x18175f(0x133)]+'积分'),this[_0x18175f(0xad)]=_0x18175f(0xef)+_0x11d77c?.['customer_signin']?.['points']+'积分'):(console[_0x18175f(0xb2)]('🔶'+_0x11d77c?.['customer_signin']?.[_0x18175f(0xf8)]),this[_0x18175f(0xad)]=''+_0x11d77c?.[_0x18175f(0x97)]?.['message']);}catch(_0xc4e1da){console['log'](_0xc4e1da);}}async[_0x241b81(0x104)](){const _0x165b3e=_0x241b81;try{const _0x170713={'url':_0x165b3e(0xd4)+this[_0x165b3e(0xcf)]+_0x165b3e(0xe3),'headers':{'User-Agent':_0x165b3e(0x92),'Content-Type':_0x165b3e(0xb8)},'body':_0x165b3e(0xdf)};let _0x12840b=await httpRequest(_0x170713,'post');console[_0x165b3e(0xb2)](_0x12840b[_0x165b3e(0xfe)]),_0x12840b?.[_0x165b3e(0xf7)]?.[_0x165b3e(0xfe)]==!![]?DoubleLog(_0x165b3e(0x138)+this['index']+'】'+this[_0x165b3e(0xad)]+_0x165b3e(0x107)+_0x12840b?.[_0x165b3e(0xf7)]?.[_0x165b3e(0x120)]):DoubleLog('🔶'+_0x12840b?.[_0x165b3e(0xf7)]?.[_0x165b3e(0xf8)]);}catch(_0x209747){console[_0x165b3e(0xb2)](_0x209747);}}}async function getCookie(){const _0x506492=_0x241b81;if($request&&$request['method']!=_0x506492(0xa9)){const _0x1311a7=$request[_0x506492(0xfa)][_0x506492(0xbb)]||$request[_0x506492(0xfa)][_0x506492(0x12d)];_0x1311a7?($[_0x506492(0x122)](_0x1311a7,ckName),$[_0x506492(0x141)]($[_0x506492(0xf0)],'','获取签到Cookie成功🎉')):$[_0x506492(0x141)]($[_0x506492(0xf0)],'',_0x506492(0x78));}}function _0x10d2(_0x5e3734,_0x37ec7c){const _0x55a016=_0x37cb();return _0x10d2=function(_0xc71c92,_0x589c57){_0xc71c92=_0xc71c92-0x78;let _0x37cbed=_0x55a016[_0xc71c92];return _0x37cbed;},_0x10d2(_0x5e3734,_0x37ec7c);}!(async()=>{const _0x1b2a18=_0x241b81;if(typeof $request!=_0x1b2a18(0xab)){await getCookie();return;}if(!await checkEnv())throw new Error(_0x1b2a18(0x98));;userList['length']>0x0&&await main();$['barkKey']&&await BarkNotify($,$[_0x1b2a18(0x10a)],$['name'],$[_0x1b2a18(0xaf)]['join']('\x0a'));;})()[_0x241b81(0x12a)](_0x5919cc=>$[_0x241b81(0xaf)][_0x241b81(0x10d)](_0x5919cc[_0x241b81(0xf8)]||_0x5919cc))[_0x241b81(0xf6)](async()=>{const _0x1799c2=_0x241b81;await SendMsg($[_0x1799c2(0xaf)]['join']('\x0a')),$[_0x1799c2(0xc2)]();});function DoubleLog(_0x1f3e7f){const _0xb82e4c=_0x241b81;$[_0xb82e4c(0x12f)]()?_0x1f3e7f&&(console[_0xb82e4c(0xb2)](''+_0x1f3e7f),$[_0xb82e4c(0xaf)][_0xb82e4c(0x10d)](''+_0x1f3e7f)):(console[_0xb82e4c(0xb2)](''+_0x1f3e7f),$[_0xb82e4c(0xaf)][_0xb82e4c(0x10d)](''+_0x1f3e7f));}function _0x37cb(){const _0x1d7371=['object','startTime','请求失败','write','https://api.day.app/push','exit','getRandomTime','cookieJar','mediaUrl','2776156MKZODs','http://','reduce','toString','Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2014_8\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.42(0x18002a28)\x20NetType/WIFI\x20Language/zh_CN','bark_key','共找到','replace','send','customer_signin','❌未检测到ck，请添加环境变量','Loon','cktough','stack','GET','setval','6jWClzN','floor','got','Content-Length','decode','isSurge','setjson','logErr','content-type','map','utf-8','OPTIONS','Node.js','undefined','constructor','signMsg','getjson','notifyMsg','split','CookieJar','log','all','trim','exec','tough-cookie','10QdkkHI','application/json;charset=UTF-8','valueForKey','call','Cookie','随机延迟','getMinutes','path','data','join','Content-Type','done','surge-version','./sendNotify','test','Stash','❌Push\x20failed!\x20>>\x20','iconv-lite','substring',',\x20结束!\x20🕛\x20','7700266lrnriG','isShadowrocket','readFileSync','open-url','token','statusCode','writedata','params','getdata','https://scrm.dencare.com.cn/saas/action/apimanager/execmulti?token=','isMute','ckStatus','isArray','signin','Shadowrocket','getval','null','Surge','concat','getEnv','{\x22wx_customer_points\x22:\x20{\x22trade_type\x22:\x20\x22\x22,\x22offset\x22:\x200,\x22count\x22:\x208},\x22account_no\x22:\x20\x22\x20\x22}','keys','fetch','*/*','&methods=wx_customer_points','toStr','\x20>>\x20Check\x20ck\x20error!','isMuteLog','index','application/json','logSeparator','update-pasteboard','cwd','encoding','updatePasteboard',',\x20错误!','签到成功，获得','name','loaddata','sendNotify','apply','POST','openUrl','finally','wx_customer_points','message','1222280pqTzVL','headers','redirect','indexOf','exports','success','getFullYear','read','search','length','opts','getLoginUser','❌账号','3gLeViP',',当前积分:','resolve','getScript','barkKey','error','(((.+)+)+)+$','push','set-cookie','existsSync','469512xyWlVA','getTime','parse','timeout','dataFile','env','getMilliseconds','stash-version','Quantumult\x20X','getMonth','lodash_get','请求api返回数据为空，请检查自身原因','http','writeFileSync','toLocaleLowerCase','toObj','account','body','setdata','content-length','isQuanX','isNeedRewrite','setCookieSync','queryStr','runScript','string','catch','status','initGotEnv','cookie','cron','isNode','&methods=customer_signin&account_no=','@chavy_boxjs_userCfgs.httpapi_timeout','1610969ZsiAFm','points','application/x-www-form-urlencoded','method','.$1','url','【账号','media-url','logs','5371920xOmmkh','wait','ckjar','get','post','冷酸灵','msg','box.dat','错误获取签到Cookie失败','未找到CK','✅Push\x20success!','16540083bVfSrA','abs','substr','isLoon','then','random','stringify','assign','rawBody','lodash_set'];_0x37cb=function(){return _0x1d7371;};return _0x37cb();}function toParams(_0x160bc2){const _0x5a9ba6=_0x241b81;var _0x15d432=Object[_0x5a9ba6(0xe0)](_0x160bc2)[_0x5a9ba6(0xa7)](function(_0x57a907){return encodeURIComponent(_0x57a907)+'='+encodeURIComponent(_0x160bc2[_0x57a907]);})[_0x5a9ba6(0xc0)]('&');return _0x15d432;}async function checkEnv(){const _0x46fdae=_0x241b81;if(userCookie){let _0x118d35=envSplitor[0x0];for(let _0x3a4c1f of envSplitor)if(userCookie[_0x46fdae(0xfc)](_0x3a4c1f)>-0x1){_0x118d35=_0x3a4c1f;break;}for(let _0x5b39cd of userCookie['split'](_0x118d35))_0x5b39cd&&userList[_0x46fdae(0x10d)](new UserInfo(_0x5b39cd));userCount=userList[_0x46fdae(0x102)];}else{console['log'](_0x46fdae(0x79));return;}return console['log'](_0x46fdae(0x94)+userCount+'个账号'),!![];}function randomInt(_0x4756db,_0x3a4609){const _0x2b4b0c=_0x241b81;return Math['round'](Math[_0x2b4b0c(0x80)]()*(_0x3a4609-_0x4756db)+_0x4756db);}async function SendMsg(_0xcb3252){const _0x14ca34=_0x241b81;if(!_0xcb3252)return;Notify>0x0?$[_0x14ca34(0x12f)]()?await notify[_0x14ca34(0xf2)]($[_0x14ca34(0xf0)],_0xcb3252):$[_0x14ca34(0x141)]($[_0x14ca34(0xf0)],'',_0xcb3252):console['log'](_0xcb3252);}function httpRequest(_0x678b86,_0x447840){const _0x32af38=_0x241b81;return typeof _0x447840===_0x32af38(0xab)?_0x32af38(0x121)in _0x678b86?_0x447840='post':_0x447840=_0x32af38(0x13e):_0x447840=_0x447840,new Promise(_0x272318=>{$[_0x447840](_0x678b86,(_0x3a30ba,_0x5a7449,_0x15fb59)=>{const _0x1bd1b3=_0x10d2;try{_0x3a30ba?(console[_0x1bd1b3(0xb2)](_0x447840+_0x1bd1b3(0x87)),$['logErr'](_0x3a30ba)):_0x15fb59?(typeof JSON[_0x1bd1b3(0x112)](_0x15fb59)==_0x1bd1b3(0x85)?_0x15fb59=JSON['parse'](_0x15fb59):_0x15fb59=_0x15fb59,_0x272318(_0x15fb59)):console[_0x1bd1b3(0xb2)](_0x1bd1b3(0x11b));}catch(_0x149f0e){$['logErr'](_0x149f0e,_0x5a7449);}finally{_0x272318();}});});}async function BarkNotify(_0x5ae9b8,_0xb6b90,_0x58bf7f,_0x3f3f4b){const _0x62ae3d=_0x241b81;for(let _0x452984=0x0;_0x452984<0x3;_0x452984++){console[_0x62ae3d(0xb2)]('🔷Bark\x20notify\x20>>\x20Start\x20push\x20('+(_0x452984+0x1)+')');const _0x3647ff=await new Promise(_0x25737a=>{const _0x27e121=_0x62ae3d;_0x5ae9b8[_0x27e121(0x13f)]({'url':_0x27e121(0x89),'headers':{'Content-Type':_0x27e121(0xe8)},'body':JSON[_0x27e121(0x81)]({'title':_0x58bf7f,'body':_0x3f3f4b,'device_key':_0xb6b90,'ext_params':{'group':_0x58bf7f}})},(_0x50c5d9,_0x1d17d2,_0x53582d)=>_0x1d17d2&&_0x1d17d2[_0x27e121(0x12b)]==0xc8?_0x25737a(0x1):_0x25737a(_0x53582d||_0x50c5d9));});if(_0x3647ff===0x1){console[_0x62ae3d(0xb2)](_0x62ae3d(0x7a));break;}else console[_0x62ae3d(0xb2)](_0x62ae3d(0xc7)+(_0x3647ff[_0x62ae3d(0xf8)]||_0x3647ff));}};function Env(_0x5c6b0b,_0x2c558f){const _0x437615=_0x241b81;class _0x580c96{constructor(_0x40c0e2){this['env']=_0x40c0e2;}[_0x437615(0x96)](_0x4b2f06,_0xab7062=_0x437615(0x9c)){const _0x6a9c6e=_0x437615;_0x4b2f06=_0x6a9c6e(0x129)==typeof _0x4b2f06?{'url':_0x4b2f06}:_0x4b2f06;let _0x150ae0=this[_0x6a9c6e(0x13e)];return _0x6a9c6e(0xf4)===_0xab7062&&(_0x150ae0=this[_0x6a9c6e(0x13f)]),new Promise((_0xde1f5c,_0x9e3197)=>{const _0x892761=_0x6a9c6e;_0x150ae0[_0x892761(0xba)](this,_0x4b2f06,(_0x39a405,_0x3bf489,_0x54cf7f)=>{_0x39a405?_0x9e3197(_0x39a405):_0xde1f5c(_0x3bf489);});});}[_0x437615(0x13e)](_0xc9ec8f){const _0x34500b=_0x437615;return this['send'][_0x34500b(0xba)](this[_0x34500b(0x115)],_0xc9ec8f);}[_0x437615(0x13f)](_0x36a6b6){const _0x587720=_0x437615;return this[_0x587720(0x96)][_0x587720(0xba)](this[_0x587720(0x115)],_0x36a6b6,_0x587720(0xf4));}}return new class{constructor(_0x4dafeb,_0x1f3470){const _0x53a61=_0x437615;this['name']=_0x4dafeb,this[_0x53a61(0x11c)]=new _0x580c96(this),this[_0x53a61(0xbf)]=null,this[_0x53a61(0x114)]=_0x53a61(0x142),this['logs']=[],this[_0x53a61(0xd5)]=!0x1,this['isNeedRewrite']=!0x1,this[_0x53a61(0xe9)]='\x0a',this[_0x53a61(0xec)]=_0x53a61(0xa8),this[_0x53a61(0x86)]=new Date()[_0x53a61(0x111)](),Object[_0x53a61(0x82)](this,_0x1f3470),this[_0x53a61(0xb2)]('','🔔'+this[_0x53a61(0xf0)]+',\x20开始!');}[_0x437615(0xde)](){const _0x3c46ff=_0x437615;return _0x3c46ff(0xab)!=typeof $environment&&$environment[_0x3c46ff(0xc3)]?'Surge':_0x3c46ff(0xab)!=typeof $environment&&$environment[_0x3c46ff(0x117)]?_0x3c46ff(0xc6):_0x3c46ff(0xab)!=typeof module&&module[_0x3c46ff(0xfd)]?_0x3c46ff(0xaa):'undefined'!=typeof $task?_0x3c46ff(0x118):_0x3c46ff(0xab)!=typeof $loon?_0x3c46ff(0x99):_0x3c46ff(0xab)!=typeof $rocket?'Shadowrocket':void 0x0;}['isNode'](){const _0x30067b=_0x437615;return _0x30067b(0xaa)===this[_0x30067b(0xde)]();}[_0x437615(0x124)](){const _0x5d9652=_0x437615;return _0x5d9652(0x118)===this[_0x5d9652(0xde)]();}['isSurge'](){return'Surge'===this['getEnv']();}[_0x437615(0x7e)](){return'Loon'===this['getEnv']();}[_0x437615(0xcc)](){const _0x5eb3af=_0x437615;return _0x5eb3af(0xd9)===this['getEnv']();}['isStash'](){return'Stash'===this['getEnv']();}[_0x437615(0x11f)](_0x3ce0e0,_0xdc8f42=null){try{return JSON['parse'](_0x3ce0e0);}catch{return _0xdc8f42;}}[_0x437615(0xe4)](_0x30b75f,_0xea24fd=null){const _0x818392=_0x437615;try{return JSON[_0x818392(0x81)](_0x30b75f);}catch{return _0xea24fd;}}[_0x437615(0xae)](_0x343da2,_0x3bd92f){const _0x5e3eb6=_0x437615;let _0x503f2d=_0x3bd92f;const _0x341464=this[_0x5e3eb6(0xd3)](_0x343da2);if(_0x341464)try{_0x503f2d=JSON[_0x5e3eb6(0x112)](this['getdata'](_0x343da2));}catch{}return _0x503f2d;}[_0x437615(0xa4)](_0x5126af,_0x59db71){const _0x12770c=_0x437615;try{return this[_0x12770c(0x122)](JSON[_0x12770c(0x81)](_0x5126af),_0x59db71);}catch{return!0x1;}}[_0x437615(0x109)](_0x332dfe){return new Promise(_0x35d8c5=>{const _0x3d31c1=_0x10d2;this[_0x3d31c1(0x13e)]({'url':_0x332dfe},(_0x5c9c2c,_0x5d14c0,_0x3a01db)=>_0x35d8c5(_0x3a01db));});}[_0x437615(0x128)](_0x466d46,_0x3a46d8){const _0x255be2=_0x437615;return new Promise(_0x14d69e=>{const _0x533078=_0x10d2;let _0x289733=this[_0x533078(0xd3)]('@chavy_boxjs_userCfgs.httpapi');_0x289733=_0x289733?_0x289733[_0x533078(0x95)](/\n/g,'')[_0x533078(0xb4)]():_0x289733;let _0x41407b=this[_0x533078(0xd3)](_0x533078(0x131));_0x41407b=_0x41407b?0x1*_0x41407b:0x14,_0x41407b=_0x3a46d8&&_0x3a46d8[_0x533078(0x113)]?_0x3a46d8['timeout']:_0x41407b;const [_0x115a1d,_0x259894]=_0x289733['split']('@'),_0xb45140={'url':_0x533078(0x8f)+_0x259894+'/v1/scripting/evaluate','body':{'script_text':_0x466d46,'mock_type':_0x533078(0x12e),'timeout':_0x41407b},'headers':{'X-Key':_0x115a1d,'Accept':_0x533078(0xe2)},'timeout':_0x41407b};this[_0x533078(0x13f)](_0xb45140,(_0x292516,_0x3a9463,_0x48e828)=>_0x14d69e(_0x48e828));})[_0x255be2(0x12a)](_0xcd6a72=>this[_0x255be2(0xa5)](_0xcd6a72));}[_0x437615(0xf1)](){const _0x31a202=_0x437615;if(!this[_0x31a202(0x12f)]())return{};{this['fs']=this['fs']?this['fs']:require('fs'),this[_0x31a202(0xbe)]=this[_0x31a202(0xbe)]?this[_0x31a202(0xbe)]:require('path');const _0x517c3b=this[_0x31a202(0xbe)][_0x31a202(0x108)](this[_0x31a202(0x114)]),_0x5867c8=this[_0x31a202(0xbe)][_0x31a202(0x108)](process[_0x31a202(0xeb)](),this[_0x31a202(0x114)]),_0x5885c0=this['fs'][_0x31a202(0x10f)](_0x517c3b),_0x4096ce=!_0x5885c0&&this['fs']['existsSync'](_0x5867c8);if(!_0x5885c0&&!_0x4096ce)return{};{const _0x5bc73e=_0x5885c0?_0x517c3b:_0x5867c8;try{return JSON[_0x31a202(0x112)](this['fs'][_0x31a202(0xcd)](_0x5bc73e));}catch(_0x415f13){return{};}}}}['writedata'](){const _0x362f8d=_0x437615;if(this[_0x362f8d(0x12f)]()){this['fs']=this['fs']?this['fs']:require('fs'),this[_0x362f8d(0xbe)]=this[_0x362f8d(0xbe)]?this['path']:require(_0x362f8d(0xbe));const _0xdc4532=this['path'][_0x362f8d(0x108)](this[_0x362f8d(0x114)]),_0x43aab8=this[_0x362f8d(0xbe)][_0x362f8d(0x108)](process[_0x362f8d(0xeb)](),this[_0x362f8d(0x114)]),_0x1da836=this['fs'][_0x362f8d(0x10f)](_0xdc4532),_0x4be0c6=!_0x1da836&&this['fs']['existsSync'](_0x43aab8),_0x57ab51=JSON[_0x362f8d(0x81)](this[_0x362f8d(0xbf)]);_0x1da836?this['fs'][_0x362f8d(0x11d)](_0xdc4532,_0x57ab51):_0x4be0c6?this['fs'][_0x362f8d(0x11d)](_0x43aab8,_0x57ab51):this['fs']['writeFileSync'](_0xdc4532,_0x57ab51);}}[_0x437615(0x11a)](_0x787618,_0x42037f,_0x44ed8d){const _0x428ef7=_0x437615,_0xc3d6eb=_0x42037f[_0x428ef7(0x95)](/\[(\d+)\]/g,_0x428ef7(0x136))[_0x428ef7(0xb0)]('.');let _0x4960fd=_0x787618;for(const _0x57b81a of _0xc3d6eb)if(_0x4960fd=Object(_0x4960fd)[_0x57b81a],void 0x0===_0x4960fd)return _0x44ed8d;return _0x4960fd;}[_0x437615(0x84)](_0x14b59f,_0x4f3365,_0x3b458c){const _0x28a331=_0x437615;return Object(_0x14b59f)!==_0x14b59f?_0x14b59f:(Array[_0x28a331(0xd7)](_0x4f3365)||(_0x4f3365=_0x4f3365[_0x28a331(0x91)]()['match'](/[^.[\]]+/g)||[]),_0x4f3365['slice'](0x0,-0x1)[_0x28a331(0x90)]((_0x35c246,_0x372395,_0x1821e6)=>Object(_0x35c246[_0x372395])===_0x35c246[_0x372395]?_0x35c246[_0x372395]:_0x35c246[_0x372395]=Math[_0x28a331(0x7c)](_0x4f3365[_0x1821e6+0x1])>>0x0==+_0x4f3365[_0x1821e6+0x1]?[]:{},_0x14b59f)[_0x4f3365[_0x4f3365[_0x28a331(0x102)]-0x1]]=_0x3b458c,_0x14b59f);}[_0x437615(0xd3)](_0x197bcd){const _0x43fb24=_0x437615;let _0xb42b52=this['getval'](_0x197bcd);if(/^@/['test'](_0x197bcd)){const [,_0x3bddc4,_0x4f1dfb]=/^@(.*?)\.(.*?)$/[_0x43fb24(0xb5)](_0x197bcd),_0x469b2b=_0x3bddc4?this[_0x43fb24(0xda)](_0x3bddc4):'';if(_0x469b2b)try{const _0xf76787=JSON[_0x43fb24(0x112)](_0x469b2b);_0xb42b52=_0xf76787?this['lodash_get'](_0xf76787,_0x4f1dfb,''):_0xb42b52;}catch(_0x5204ea){_0xb42b52='';}}return _0xb42b52;}[_0x437615(0x122)](_0x61ec75,_0x4744d4){const _0x53c64d=_0x437615;let _0x36ced2=!0x1;if(/^@/[_0x53c64d(0xc5)](_0x4744d4)){const [,_0x4ca0e1,_0x143e8c]=/^@(.*?)\.(.*?)$/[_0x53c64d(0xb5)](_0x4744d4),_0x221777=this[_0x53c64d(0xda)](_0x4ca0e1),_0x25ef11=_0x4ca0e1?_0x53c64d(0xdb)===_0x221777?null:_0x221777||'{}':'{}';try{const _0xf8bfbd=JSON['parse'](_0x25ef11);this['lodash_set'](_0xf8bfbd,_0x143e8c,_0x61ec75),_0x36ced2=this['setval'](JSON[_0x53c64d(0x81)](_0xf8bfbd),_0x4ca0e1);}catch(_0x582fd1){const _0x5bbdc4={};this[_0x53c64d(0x84)](_0x5bbdc4,_0x143e8c,_0x61ec75),_0x36ced2=this[_0x53c64d(0x9d)](JSON[_0x53c64d(0x81)](_0x5bbdc4),_0x4ca0e1);}}else _0x36ced2=this[_0x53c64d(0x9d)](_0x61ec75,_0x4744d4);return _0x36ced2;}['getval'](_0x142bad){const _0x57fe3a=_0x437615;switch(this[_0x57fe3a(0xde)]()){case _0x57fe3a(0xdc):case _0x57fe3a(0x99):case _0x57fe3a(0xc6):case _0x57fe3a(0xd9):return $persistentStore[_0x57fe3a(0x100)](_0x142bad);case _0x57fe3a(0x118):return $prefs[_0x57fe3a(0xb9)](_0x142bad);case'Node.js':return this[_0x57fe3a(0xbf)]=this['loaddata'](),this[_0x57fe3a(0xbf)][_0x142bad];default:return this[_0x57fe3a(0xbf)]&&this[_0x57fe3a(0xbf)][_0x142bad]||null;}}['setval'](_0x109487,_0x5886a6){const _0x59e7ad=_0x437615;switch(this[_0x59e7ad(0xde)]()){case'Surge':case _0x59e7ad(0x99):case'Stash':case'Shadowrocket':return $persistentStore[_0x59e7ad(0x88)](_0x109487,_0x5886a6);case _0x59e7ad(0x118):return $prefs['setValueForKey'](_0x109487,_0x5886a6);case'Node.js':return this[_0x59e7ad(0xbf)]=this[_0x59e7ad(0xf1)](),this[_0x59e7ad(0xbf)][_0x5886a6]=_0x109487,this[_0x59e7ad(0xd1)](),!0x0;default:return this[_0x59e7ad(0xbf)]&&this[_0x59e7ad(0xbf)][_0x5886a6]||null;}}[_0x437615(0x12c)](_0xe87fa1){const _0x2cfa61=_0x437615;this[_0x2cfa61(0xa0)]=this[_0x2cfa61(0xa0)]?this[_0x2cfa61(0xa0)]:require(_0x2cfa61(0xa0)),this['cktough']=this[_0x2cfa61(0x9a)]?this['cktough']:require(_0x2cfa61(0xb6)),this[_0x2cfa61(0x13d)]=this[_0x2cfa61(0x13d)]?this[_0x2cfa61(0x13d)]:new this[(_0x2cfa61(0x9a))][(_0x2cfa61(0xb1))](),_0xe87fa1&&(_0xe87fa1['headers']=_0xe87fa1[_0x2cfa61(0xfa)]?_0xe87fa1[_0x2cfa61(0xfa)]:{},void 0x0===_0xe87fa1[_0x2cfa61(0xfa)][_0x2cfa61(0xbb)]&&void 0x0===_0xe87fa1[_0x2cfa61(0x8c)]&&(_0xe87fa1[_0x2cfa61(0x8c)]=this['ckjar']));}[_0x437615(0x13e)](_0x3a1dd9,_0x26c36b=()=>{}){const _0x30da4d=_0x437615;switch(_0x3a1dd9['headers']&&(delete _0x3a1dd9[_0x30da4d(0xfa)][_0x30da4d(0xc1)],delete _0x3a1dd9[_0x30da4d(0xfa)][_0x30da4d(0xa1)],delete _0x3a1dd9['headers'][_0x30da4d(0xa6)],delete _0x3a1dd9[_0x30da4d(0xfa)][_0x30da4d(0x123)]),_0x3a1dd9[_0x30da4d(0xd2)]&&(_0x3a1dd9[_0x30da4d(0x137)]+='?'+this[_0x30da4d(0x127)](_0x3a1dd9['params'])),this['getEnv']()){case _0x30da4d(0xdc):case'Loon':case _0x30da4d(0xc6):case _0x30da4d(0xd9):default:this[_0x30da4d(0xa3)]()&&this[_0x30da4d(0x125)]&&(_0x3a1dd9['headers']=_0x3a1dd9['headers']||{},Object[_0x30da4d(0x82)](_0x3a1dd9['headers'],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x30da4d(0x13e)](_0x3a1dd9,(_0x4ae6e8,_0x4f30ae,_0x3473dd)=>{const _0x2656a8=_0x30da4d;!_0x4ae6e8&&_0x4f30ae&&(_0x4f30ae[_0x2656a8(0x121)]=_0x3473dd,_0x4f30ae['statusCode']=_0x4f30ae[_0x2656a8(0x12b)]?_0x4f30ae['status']:_0x4f30ae[_0x2656a8(0xd0)],_0x4f30ae[_0x2656a8(0x12b)]=_0x4f30ae[_0x2656a8(0xd0)]),_0x26c36b(_0x4ae6e8,_0x4f30ae,_0x3473dd);});break;case _0x30da4d(0x118):this['isNeedRewrite']&&(_0x3a1dd9[_0x30da4d(0x103)]=_0x3a1dd9['opts']||{},Object[_0x30da4d(0x82)](_0x3a1dd9[_0x30da4d(0x103)],{'hints':!0x1})),$task[_0x30da4d(0xe1)](_0x3a1dd9)[_0x30da4d(0x7f)](_0x15e74e=>{const {statusCode:_0x2636fb,statusCode:_0x17ad41,headers:_0x2b5ce6,body:_0x387a23,bodyBytes:_0x524fe0}=_0x15e74e;_0x26c36b(null,{'status':_0x2636fb,'statusCode':_0x17ad41,'headers':_0x2b5ce6,'body':_0x387a23,'bodyBytes':_0x524fe0},_0x387a23,_0x524fe0);},_0xcf86b7=>_0x26c36b(_0xcf86b7&&_0xcf86b7[_0x30da4d(0x10b)]||'UndefinedError'));break;case'Node.js':let _0x36e165=require(_0x30da4d(0xc8));this[_0x30da4d(0x12c)](_0x3a1dd9),this[_0x30da4d(0xa0)](_0x3a1dd9)['on'](_0x30da4d(0xfb),(_0x4d21b3,_0xd49c2b)=>{const _0x20b728=_0x30da4d;try{if(_0x4d21b3['headers'][_0x20b728(0x10e)]){const _0x4ec522=_0x4d21b3[_0x20b728(0xfa)][_0x20b728(0x10e)]['map'](this[_0x20b728(0x9a)][_0x20b728(0xbb)][_0x20b728(0x112)])[_0x20b728(0x91)]();_0x4ec522&&this[_0x20b728(0x13d)][_0x20b728(0x126)](_0x4ec522,null),_0xd49c2b['cookieJar']=this[_0x20b728(0x13d)];}}catch(_0x3954e8){this[_0x20b728(0xa5)](_0x3954e8);}})[_0x30da4d(0x7f)](_0x2eb0b7=>{const _0x44f1b1=_0x30da4d,{statusCode:_0x13b4ae,statusCode:_0x2efdd7,headers:_0x223c85,rawBody:_0x518f0b}=_0x2eb0b7,_0x41e9af=_0x36e165['decode'](_0x518f0b,this[_0x44f1b1(0xec)]);_0x26c36b(null,{'status':_0x13b4ae,'statusCode':_0x2efdd7,'headers':_0x223c85,'rawBody':_0x518f0b,'body':_0x41e9af},_0x41e9af);},_0x155696=>{const _0x4a40ad=_0x30da4d,{message:_0x13f6ad,response:_0x4044fc}=_0x155696;_0x26c36b(_0x13f6ad,_0x4044fc,_0x4044fc&&_0x36e165[_0x4a40ad(0xa2)](_0x4044fc['rawBody'],this[_0x4a40ad(0xec)]));});}}[_0x437615(0x13f)](_0x2c0341,_0x211917=()=>{}){const _0xa6db87=_0x437615,_0x2978bf=_0x2c0341[_0xa6db87(0x135)]?_0x2c0341['method'][_0xa6db87(0x11e)]():_0xa6db87(0x13f);switch(_0x2c0341['body']&&_0x2c0341[_0xa6db87(0xfa)]&&!_0x2c0341['headers'][_0xa6db87(0xc1)]&&!_0x2c0341[_0xa6db87(0xfa)][_0xa6db87(0xa6)]&&(_0x2c0341[_0xa6db87(0xfa)]['content-type']=_0xa6db87(0x134)),_0x2c0341['headers']&&(delete _0x2c0341[_0xa6db87(0xfa)][_0xa6db87(0xa1)],delete _0x2c0341[_0xa6db87(0xfa)][_0xa6db87(0x123)]),this[_0xa6db87(0xde)]()){case _0xa6db87(0xdc):case _0xa6db87(0x99):case'Stash':case _0xa6db87(0xd9):default:this[_0xa6db87(0xa3)]()&&this[_0xa6db87(0x125)]&&(_0x2c0341[_0xa6db87(0xfa)]=_0x2c0341[_0xa6db87(0xfa)]||{},Object[_0xa6db87(0x82)](_0x2c0341[_0xa6db87(0xfa)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x2978bf](_0x2c0341,(_0x4b7a08,_0x3a058f,_0x3e77c7)=>{const _0x1499d1=_0xa6db87;!_0x4b7a08&&_0x3a058f&&(_0x3a058f[_0x1499d1(0x121)]=_0x3e77c7,_0x3a058f[_0x1499d1(0xd0)]=_0x3a058f[_0x1499d1(0x12b)]?_0x3a058f['status']:_0x3a058f[_0x1499d1(0xd0)],_0x3a058f[_0x1499d1(0x12b)]=_0x3a058f['statusCode']),_0x211917(_0x4b7a08,_0x3a058f,_0x3e77c7);});break;case _0xa6db87(0x118):_0x2c0341[_0xa6db87(0x135)]=_0x2978bf,this['isNeedRewrite']&&(_0x2c0341[_0xa6db87(0x103)]=_0x2c0341['opts']||{},Object['assign'](_0x2c0341['opts'],{'hints':!0x1})),$task[_0xa6db87(0xe1)](_0x2c0341)['then'](_0x4a50dd=>{const {statusCode:_0x5acc3b,statusCode:_0x28c7f4,headers:_0x12df0d,body:_0x51fabc,bodyBytes:_0x4ad059}=_0x4a50dd;_0x211917(null,{'status':_0x5acc3b,'statusCode':_0x28c7f4,'headers':_0x12df0d,'body':_0x51fabc,'bodyBytes':_0x4ad059},_0x51fabc,_0x4ad059);},_0x4bc555=>_0x211917(_0x4bc555&&_0x4bc555[_0xa6db87(0x10b)]||'UndefinedError'));break;case _0xa6db87(0xaa):let _0xba6c4b=require('iconv-lite');this[_0xa6db87(0x12c)](_0x2c0341);const {url:_0xc17414,..._0x36607a}=_0x2c0341;this[_0xa6db87(0xa0)][_0x2978bf](_0xc17414,_0x36607a)[_0xa6db87(0x7f)](_0x5eeaa7=>{const _0x4ccec8=_0xa6db87,{statusCode:_0x505fc8,statusCode:_0xa245,headers:_0x191b93,rawBody:_0x447261}=_0x5eeaa7,_0x2bd883=_0xba6c4b[_0x4ccec8(0xa2)](_0x447261,this[_0x4ccec8(0xec)]);_0x211917(null,{'status':_0x505fc8,'statusCode':_0xa245,'headers':_0x191b93,'rawBody':_0x447261,'body':_0x2bd883},_0x2bd883);},_0x43a47b=>{const _0x1261bc=_0xa6db87,{message:_0x404a0f,response:_0xfffd19}=_0x43a47b;_0x211917(_0x404a0f,_0xfffd19,_0xfffd19&&_0xba6c4b[_0x1261bc(0xa2)](_0xfffd19[_0x1261bc(0x83)],this['encoding']));});}}['time'](_0x581e7b,_0x500c96=null){const _0x560382=_0x437615,_0x17362f=_0x500c96?new Date(_0x500c96):new Date();let _0x59ec49={'M+':_0x17362f[_0x560382(0x119)]()+0x1,'d+':_0x17362f['getDate'](),'H+':_0x17362f['getHours'](),'m+':_0x17362f[_0x560382(0xbd)](),'s+':_0x17362f['getSeconds'](),'q+':Math[_0x560382(0x9f)]((_0x17362f[_0x560382(0x119)]()+0x3)/0x3),'S':_0x17362f[_0x560382(0x116)]()};/(y+)/[_0x560382(0xc5)](_0x581e7b)&&(_0x581e7b=_0x581e7b[_0x560382(0x95)](RegExp['$1'],(_0x17362f[_0x560382(0xff)]()+'')[_0x560382(0x7d)](0x4-RegExp['$1'][_0x560382(0x102)])));for(let _0x487b6e in _0x59ec49)new RegExp('('+_0x487b6e+')')[_0x560382(0xc5)](_0x581e7b)&&(_0x581e7b=_0x581e7b[_0x560382(0x95)](RegExp['$1'],0x1==RegExp['$1']['length']?_0x59ec49[_0x487b6e]:('00'+_0x59ec49[_0x487b6e])[_0x560382(0x7d)]((''+_0x59ec49[_0x487b6e])['length'])));return _0x581e7b;}[_0x437615(0x127)](_0x6fc276){const _0x8e8a49=_0x437615;let _0x28dff9='';for(const _0x4ac5e1 in _0x6fc276){let _0x69486c=_0x6fc276[_0x4ac5e1];null!=_0x69486c&&''!==_0x69486c&&(_0x8e8a49(0x85)==typeof _0x69486c&&(_0x69486c=JSON[_0x8e8a49(0x81)](_0x69486c)),_0x28dff9+=_0x4ac5e1+'='+_0x69486c+'&');}return _0x28dff9=_0x28dff9[_0x8e8a49(0xc9)](0x0,_0x28dff9[_0x8e8a49(0x102)]-0x1),_0x28dff9;}['msg'](_0x513cec=_0x5c6b0b,_0x5a1fb7='',_0x4dac8e='',_0x5189da){const _0x4f8fbe=_0x437615,_0x313cfe=_0xe93160=>{const _0x2c3ff8=_0x10d2;switch(typeof _0xe93160){case void 0x0:return _0xe93160;case _0x2c3ff8(0x129):switch(this[_0x2c3ff8(0xde)]()){case _0x2c3ff8(0xdc):case _0x2c3ff8(0xc6):default:return{'url':_0xe93160};case'Loon':case _0x2c3ff8(0xd9):return _0xe93160;case _0x2c3ff8(0x118):return{'open-url':_0xe93160};case'Node.js':return;}case _0x2c3ff8(0x85):switch(this['getEnv']()){case'Surge':case _0x2c3ff8(0xc6):case _0x2c3ff8(0xd9):default:{let _0x3650e9=_0xe93160['url']||_0xe93160[_0x2c3ff8(0xf5)]||_0xe93160[_0x2c3ff8(0xce)];return{'url':_0x3650e9};}case _0x2c3ff8(0x99):{let _0x45f9d3=_0xe93160[_0x2c3ff8(0xf5)]||_0xe93160[_0x2c3ff8(0x137)]||_0xe93160[_0x2c3ff8(0xce)],_0x2abe82=_0xe93160[_0x2c3ff8(0x8d)]||_0xe93160[_0x2c3ff8(0x139)];return{'openUrl':_0x45f9d3,'mediaUrl':_0x2abe82};}case _0x2c3ff8(0x118):{let _0x5cf713=_0xe93160['open-url']||_0xe93160['url']||_0xe93160[_0x2c3ff8(0xf5)],_0x1a13a9=_0xe93160[_0x2c3ff8(0x139)]||_0xe93160[_0x2c3ff8(0x8d)],_0xebc751=_0xe93160[_0x2c3ff8(0xea)]||_0xe93160[_0x2c3ff8(0xed)];return{'open-url':_0x5cf713,'media-url':_0x1a13a9,'update-pasteboard':_0xebc751};}case _0x2c3ff8(0xaa):return;}default:return;}};if(!this['isMute'])switch(this[_0x4f8fbe(0xde)]()){case _0x4f8fbe(0xdc):case'Loon':case _0x4f8fbe(0xc6):case'Shadowrocket':default:$notification[_0x4f8fbe(0x13f)](_0x513cec,_0x5a1fb7,_0x4dac8e,_0x313cfe(_0x5189da));break;case _0x4f8fbe(0x118):$notify(_0x513cec,_0x5a1fb7,_0x4dac8e,_0x313cfe(_0x5189da));break;case'Node.js':}if(!this[_0x4f8fbe(0xe6)]){let _0x3ef777=['','==============📣系统通知📣=============='];_0x3ef777[_0x4f8fbe(0x10d)](_0x513cec),_0x5a1fb7&&_0x3ef777[_0x4f8fbe(0x10d)](_0x5a1fb7),_0x4dac8e&&_0x3ef777[_0x4f8fbe(0x10d)](_0x4dac8e),console[_0x4f8fbe(0xb2)](_0x3ef777['join']('\x0a')),this[_0x4f8fbe(0x13a)]=this[_0x4f8fbe(0x13a)][_0x4f8fbe(0xdd)](_0x3ef777);}}[_0x437615(0xb2)](..._0x3546ea){const _0x45f198=_0x437615;_0x3546ea[_0x45f198(0x102)]>0x0&&(this[_0x45f198(0x13a)]=[...this[_0x45f198(0x13a)],..._0x3546ea]),console['log'](_0x3546ea['join'](this['logSeparator']));}[_0x437615(0xa5)](_0x574bcb,_0x24ec59){const _0x3a8913=_0x437615;switch(this[_0x3a8913(0xde)]()){case'Surge':case _0x3a8913(0x99):case'Stash':case'Shadowrocket':case _0x3a8913(0x118):default:this['log']('','❗️'+this[_0x3a8913(0xf0)]+',\x20错误!',_0x574bcb);break;case _0x3a8913(0xaa):this['log']('','❗️'+this[_0x3a8913(0xf0)]+_0x3a8913(0xee),_0x574bcb[_0x3a8913(0x9b)]);}}[_0x437615(0x13c)](_0x4f3a02){return new Promise(_0x1363e5=>setTimeout(_0x1363e5,_0x4f3a02));}[_0x437615(0xc2)](_0x4427a3={}){const _0x3357c2=_0x437615,_0x306d76=new Date()['getTime'](),_0x26ebc9=(_0x306d76-this['startTime'])/0x3e8;switch(this[_0x3357c2(0xb2)]('','🔔'+this[_0x3357c2(0xf0)]+_0x3357c2(0xca)+_0x26ebc9+'\x20秒'),this[_0x3357c2(0xb2)](),this[_0x3357c2(0xde)]()){case _0x3357c2(0xdc):case'Loon':case _0x3357c2(0xc6):case _0x3357c2(0xd9):case _0x3357c2(0x118):default:$done(_0x4427a3);break;case _0x3357c2(0xaa):process[_0x3357c2(0x8a)](0x1);}}}(_0x5c6b0b,_0x2c558f);}